import{_ as a,o as s,c as n,a as e}from"./app-3d979d38.js";const i={},l=e(`<h1 id="磁盘管理" tabindex="-1"><a class="header-anchor" href="#磁盘管理" aria-hidden="true">#</a> 磁盘管理</h1><div class="hint-container tip"><p class="hint-container-title">提示</p><p>日程磁盘管理中，我们最常用的有查看当前磁盘使用情况，查看当前目录所占大小，以及打包压缩与解压缩；</p></div><h2 id="查看磁盘空间" tabindex="-1"><a class="header-anchor" href="#查看磁盘空间" aria-hidden="true">#</a> 查看磁盘空间</h2><p>查看磁盘空间利用大小:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">df</span> <span class="token parameter variable">-h</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>-h: human缩写，以易读的方式显示结果（即带单位：比如M/G，如果不加这个参数，显示的数字以B为单位）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">df</span> <span class="token parameter variable">-h</span>
    <span class="token comment"># /opt/app/todeav/config#df -h</span>
    <span class="token comment"># Filesystem            Size  Used Avail Use% Mounted on</span>
    <span class="token comment"># /dev/mapper/VolGroup00-LogVol00</span>
    <span class="token comment"># 2.0G  711M  1.2G  38% /</span>
    <span class="token comment"># /dev/mapper/vg1-lv2    20G  3.8G   15G  21% /opt/applog</span>
    <span class="token comment"># /dev/mapper/vg1-lv1    20G   13G  5.6G  70% /opt/app</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看当前目录所占空间大小:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">du</span> <span class="token parameter variable">-sh</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>-h 人性化显示</li><li>-s 递归整个目录的大小</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;!-- --&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">du</span> <span class="token parameter variable">-sh</span>
    <span class="token comment"># 653M</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>查看当前目录下所有子文件夹排序后的大小:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">\`</span><span class="token function">ls</span><span class="token variable">\`</span></span><span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token function">du</span> <span class="token parameter variable">-sh</span> <span class="token variable">$i</span><span class="token punctuation">;</span> <span class="token keyword">done</span> <span class="token operator">|</span> <span class="token function">sort</span>
或者：
<span class="token function">du</span> <span class="token parameter variable">-sh</span> <span class="token variable"><span class="token variable">\`</span><span class="token function">ls</span><span class="token variable">\`</span></span> <span class="token operator">|</span> <span class="token function">sort</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="打包-压缩" tabindex="-1"><a class="header-anchor" href="#打包-压缩" aria-hidden="true">#</a> 打包/ 压缩</h2><p>在linux中打包和压缩和分两步来实现的；</p><p><strong>打包</strong></p><p>打包是将多个文件归并到一个文件:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">-cvf</span> etc.tar /etc <span class="token operator">&lt;=</span><span class="token operator">=</span>仅打包，不压缩！
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>-c :打包选项</li><li>-v :显示打包进度</li></ul><p>- -f :使用档案文件 注：有的系统中指定参数时不需要在前面加上-，直接使用tar xvf</p><p>示例：用tar实现文件夹同步，排除部分文件不同步:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">--exclude</span> <span class="token string">&#39;*.svn&#39;</span> <span class="token parameter variable">-cvf</span> - /path/to/source <span class="token operator">|</span> <span class="token punctuation">(</span> <span class="token builtin class-name">cd</span> /path/to/target<span class="token punctuation">;</span> <span class="token function">tar</span> <span class="token parameter variable">-xf</span> -<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>压缩</strong> :</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">gzip</span> demo.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>生成 demo.txt.gz</p><h2 id="解包-解压缩" tabindex="-1"><a class="header-anchor" href="#解包-解压缩" aria-hidden="true">#</a> 解包/解压缩</h2><p><strong>解包</strong> :</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">-xvf</span> demo.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>-x 解包选项</p><p>解压后缀为 .tar.gz的文件 1. 先解压缩，生成**.tar:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>gunzip    demo.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>解包:</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">-xvf</span>  demo.tar
<span class="token function">bzip2</span> <span class="token parameter variable">-d</span> demo.tar.bz2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>bz2解压:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">tar</span> jxvf demo.tar.bz2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果tar 不支持j，则同样需要分两步来解包解压缩，使用bzip2来解压，再使用tar解包:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">bzip2</span> <span class="token parameter variable">-d</span>  demo.tar.bz2
<span class="token function">tar</span> <span class="token parameter variable">-xvf</span>  demo.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>-d decompose,解压缩</p><p>tar解压参数说明：</p><ul><li>-z 解压gz文件</li><li>-j 解压bz2文件</li><li>-J 解压xz文件</li></ul><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>查看磁盘空间 df -h</p><p>查看目录大小 du -sh</p><p>打包 tar -cvf</p><p>解包 tar -xvf</p><p>压缩 gzip</p><p>解压缩 gunzip bzip</p>`,48),p=[l];function t(d,r){return s(),n("div",null,p)}const o=a(i,[["render",t],["__file","04_disk.html.vue"]]);export{o as default};
