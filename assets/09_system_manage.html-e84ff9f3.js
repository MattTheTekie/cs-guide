import{_ as a,o as e,c as s,a as n}from"./app-3d979d38.js";const i={},d=n(`<h1 id="系统管理及ipc资源管理" tabindex="-1"><a class="header-anchor" href="#系统管理及ipc资源管理" aria-hidden="true">#</a> 系统管理及IPC资源管理</h1><h2 id="系统管理" tabindex="-1"><a class="header-anchor" href="#系统管理" aria-hidden="true">#</a> 系统管理</h2><h3 id="查询系统版本" tabindex="-1"><a class="header-anchor" href="#查询系统版本" aria-hidden="true">#</a> 查询系统版本</h3><p>查看Linux系统版本:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">uname</span> <span class="token parameter variable">-a</span>
lsb_release <span class="token parameter variable">-a</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>查看Unix系统版本：操作系统版本:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">more</span> /etc/release
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="查询硬件信息" tabindex="-1"><a class="header-anchor" href="#查询硬件信息" aria-hidden="true">#</a> 查询硬件信息</h3><p>查看CPU使用情况:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>sar <span class="token parameter variable">-u</span> <span class="token number">5</span> <span class="token number">10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询CPU信息:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token function">cat</span> /proc/cpuinfo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看CPU的核的个数:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cat</span> /proc/cpuinfo <span class="token operator">|</span> <span class="token function">grep</span> processor <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看内存信息:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cat</span> /proc/meminfo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>显示内存page大小（以KByte为单位）:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pagesize
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>显示架构:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>arch
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="设置系统时间" tabindex="-1"><a class="header-anchor" href="#设置系统时间" aria-hidden="true">#</a> 设置系统时间</h3><p>显示当前系统时间:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">date</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>设置系统日期和时间(格式为2014-09-15 17:05:00):</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">date</span> <span class="token parameter variable">-s</span> <span class="token number">2014</span>-09-15 <span class="token number">17</span>:05:00
<span class="token function">date</span> <span class="token parameter variable">-s</span> <span class="token number">2014</span>-09-15
<span class="token function">date</span> <span class="token parameter variable">-s</span> <span class="token number">17</span>:05:00
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置时区:</p><pre><code>选择时区信息。命令为：tzselect
根据系统提示，选择相应的时区信息。
</code></pre><p>强制把系统时间写入CMOS（这样，重启后时间也正确了）:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>clock <span class="token parameter variable">-w</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>设置系统时间需要root用户权限.</p></div><p>格式化输出当前日期时间:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">date</span> +%Y%m%d.%H%M%S
   <span class="token comment"># &gt;20150512.173821</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ipc资源管理" tabindex="-1"><a class="header-anchor" href="#ipc资源管理" aria-hidden="true">#</a> IPC资源管理</h2><h3 id="ipc资源查询" tabindex="-1"><a class="header-anchor" href="#ipc资源查询" aria-hidden="true">#</a> IPC资源查询</h3><p>查看系统使用的IPC资源:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ipcs

    ------ Shared Memory Segments --------
    key        shmid      owner      perms      bytes      nattch     status      

    ------ Semaphore Arrays --------
    key        semid      owner      perms      nsems     
    0x00000000 <span class="token number">229376</span>     weber      <span class="token number">600</span>        <span class="token number">1</span>         

    ------ Message Queues --------
    key        msqid      owner      perms      used-bytes   messages    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查看系统使用的IPC共享内存资源:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ipcs <span class="token parameter variable">-m</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看系统使用的IPC队列资源:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ipcs <span class="token parameter variable">-q</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看系统使用的IPC信号量资源:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ipcs <span class="token parameter variable">-s</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>应用示例：查看IPC资源被谁占用</p><p>有个IPCKEY：51036 ，需要查询其是否被占用；</p><ol><li></li></ol><pre><code>首先通过计算器将其转为十六进制:

:   51036 -\\&gt; c75c
</code></pre><ol start="2"><li>如果知道是被共享内存占用:</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ipcs <span class="token parameter variable">-m</span> <span class="token operator">|</span> <span class="token function">grep</span> c75c
        <span class="token comment"># 0x0000c75c 40403197   tdea3    666        536870912  2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>如果不确定，则直接查找:</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ipcs <span class="token operator">|</span> <span class="token function">grep</span> c75c
        0x0000c75c <span class="token number">40403197</span>   tdea3    <span class="token number">666</span>        <span class="token number">536870912</span>  <span class="token number">2</span>
        0x0000c75c <span class="token number">5079070</span>    tdea3    <span class="token number">666</span>        <span class="token number">4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="检测和设置系统资源限制" tabindex="-1"><a class="header-anchor" href="#检测和设置系统资源限制" aria-hidden="true">#</a> 检测和设置系统资源限制</h3><p>显示当前所有的系统资源limit 信息:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">ulimit</span> – a
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>对生成的 core 文件的大小不进行限制:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">ulimit</span> – c unlimited
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>uname sar arch date ipcs ulimit</p>`,57),l=[d];function r(c,p){return e(),s("div",null,l)}const u=a(i,[["render",r],["__file","09_system_manage.html.vue"]]);export{u as default};
