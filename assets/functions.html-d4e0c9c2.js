import{_ as n,o as s,c as a,a as e}from"./app-3d979d38.js";const t={},o=e(`<h1 id="一些常用操作" tabindex="-1"><a class="header-anchor" href="#一些常用操作" aria-hidden="true">#</a> 一些常用操作</h1><h2 id="解析json" tabindex="-1"><a class="header-anchor" href="#解析json" aria-hidden="true">#</a> 解析json</h2><h3 id="json字符转dart对象" tabindex="-1"><a class="header-anchor" href="#json字符转dart对象" aria-hidden="true">#</a> json字符转dart对象</h3><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:json_annotation/json_annotation.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token comment">/// This allows the \`User\` class to access private members in</span>
<span class="token comment">/// the generated file. The value for this is *.g.dart, where</span>
<span class="token comment">/// the star denotes the source file name.</span>
<span class="token keyword">part</span> <span class="token string-literal"><span class="token string">&#39;user.g.dart&#39;</span></span><span class="token punctuation">;</span>

<span class="token comment">/// An annotation for the code generator to know that this class needs the</span>
<span class="token comment">/// JSON serialization logic to be generated.</span>
<span class="token metadata function">@JsonSerializable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token class-name">String</span> email<span class="token punctuation">;</span>

  <span class="token comment">/// A necessary factory constructor for creating a new User instance</span>
  <span class="token comment">/// from a map. Pass the map to the generated \`_$UserFromJson()\` constructor.</span>
  <span class="token comment">/// The constructor is named after the source class, in this case, User.</span>
  <span class="token keyword">factory</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> json<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> _$<span class="token class-name">UserFromJson</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// \`toJson\` is the convention for a class to declare support for serialization</span>
  <span class="token comment">/// to JSON. The implementation simply calls the private, generated</span>
  <span class="token comment">/// helper method \`_$UserToJson\`.</span>
  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> <span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> _$<span class="token class-name">UserToJson</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>flutter pub run build_runner <span class="token function">watch</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>json数组转dart对象</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">List</span> responseJson <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CardBean</span><span class="token punctuation">&gt;</span></span> cardbeanList <span class="token operator">=</span> responseJson<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">new</span> <span class="token class-name">CardBean</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">CardBean</span> cardBean <span class="token operator">=</span> cardbeanList<span class="token punctuation">.</span>first<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8),p=[o];function c(i,l){return s(),a("div",null,p)}const u=n(t,[["render",c],["__file","functions.html.vue"]]);export{u as default};
